* <a name="a0"></a>February 28 <a href="#a0">#</a>
   * <a name="a1"></a>[[LO2]] <a href="#a1">#</a>
      * <a name="a2"></a>I figured out how to make cmd-/ work properly, inserting the result as a comment below the line containing the script. <a href="#a2">#</a>
         * <a name="a3"></a>Below are a few one-liners.  <a href="#a3">#</a>
            * <a name="a4"></a>random (0, 1000) <a href="#a4">#</a>
               * <a name="a5"></a>515 <a href="#a5">#</a>
            * <a name="a6"></a>file.writeWholeFile ("tmp.txt", "hooray for hollywood") <a href="#a6">#</a>
               * <a name="a7"></a>true <a href="#a7">#</a>
            * <a name="a8"></a>string.upper (file.readWholeFile ("tmp.txt")) <a href="#a8">#</a>
               * <a name="a9"></a>HOORAY FOR HOLLYWOOD <a href="#a9">#</a>
      * <a name="a10"></a>Spoke with Andrew, he's actually working on this, so I'll defer to what he comes up with, but glad to have this temporary functionality for testing and doc writing.  <a href="#a10">#</a>
* <a name="a11"></a>February 27 <a href="#a11">#</a>
   * <a name="a12"></a>[[LO2]] <a href="#a12">#</a>
      * <a name="a13"></a>Let's see if we can figure out how to get cmd-/ to work properly <a href="#a13">#</a>
         * <a name="a14"></a>12 +5 <a href="#a14">#</a>
         * <a name="a15"></a>When I click on cmd-/ on the previous line, it should create a sub with the value 17. It does not.  <a href="#a15">#</a>
         * <a name="a16"></a>I'm going to try watching the code run in the debugger and see if the number 17 shows up anywhere. <a href="#a16">#</a>
         * <a name="a17"></a>Result: No, ever saw a 17. I'll try again.. <a href="#a17">#</a>
      * <a name="a18"></a>Bug in new Testing menu. The menu disappears if I make a change in my menubar.opml. <a href="#a18">#</a>
         * <a name="a19"></a>This causes everything past the Docs menu to be rebuilt, without re-adding the Testing menu. <a href="#a19">#</a>
         * <a name="a20"></a>Also I think the Scripts menu should be last. It's the one I work with the most, make it easiest to find. <a href="#a20">#</a>
   * <a name="a21"></a>[[verbs]] <a href="#a21">#</a>
      * <a name="a22"></a>dns.getDomainName (dottedid) and dns.getDottedId (name)  <a href="#a22">#</a>
         * <a name="a23"></a>there are two new commands in the (new) Net sub-menu that test these two verbs. <a href="#a23">#</a>
         * <a name="a24"></a>implemented as http calls in daveappserver. <a href="#a24">#</a>
         * <a name="a25"></a>the <a href="http://docs.littleoutliner.com/davewiner/verbDocs.opml">verb docs</a> are written. <a href="#a25">#</a>
   * <a name="a26"></a>[[scripting]] <a href="#a26">#</a>
      * <a name="a27"></a>I have ideas about how to include verbs, server-side, that are not implemented in daveappserver. <a href="#a27">#</a>
      * <a name="a28"></a>so far I've only written generic things, like http and dns. file system support. think of those as system verbs.  <a href="#a28">#</a>
      * <a name="a29"></a>how to extend is starting to come into view. but there are a lot of decisions. so i'm going to keep going, defining, testing, documenting, thinking about the verbs that belong in the core.   <a href="#a29">#</a>
* <a name="a30"></a>February 26 <a href="#a30">#</a>
   * <a name="a31"></a>[[verbs]] <a href="#a31">#</a>
      * <a name="a32"></a>http.readUrl <a href="#a32">#</a>
         * <a name="a33"></a>Implemented a call in daveappserver to serve as a proxy.  <a href="#a33">#</a>
         * <a name="a34"></a>Wrote verbDocs for the verb.  <a href="#a34">#</a>
         * <a name="a35"></a>Wanted to get at least one verb implemented today. <a href="#a35">#</a>
         * <a name="a36"></a>Issue: should this be tcp.httpReadUrl as it is in Frontier? <a href="#a36">#</a>
   * <a name="a37"></a>[[LO2]] <a href="#a37">#</a>
      * <a name="a38"></a>publishing docs from test.littleoutliner.com <a href="#a38">#</a>
         * <a name="a39"></a>all docs will be at this domain: docs.littleoutliner.com <a href="#a39">#</a>
         * <a name="a40"></a>the outlines will be rendered as howto-style outlines, as they <a href="http://my.this.how/davewiner/howtosInLittleOutliner.opml">are</a> on littleoutliner.com. <a href="#a40">#</a>
         * <a name="a41"></a>the urls will be of this form: http://docs.littleoutliner.com/davewiner/verbDocs.opml <a href="#a41">#</a>
         * <a name="a42"></a>docs.littleoutliner.com is implemented as a <a href="http://pagepark.io/docs/plugins.md">pagepark plug-in</a>.  <a href="#a42">#</a>
         * <a name="a43"></a>it works -- you can now read the verb docs here. not pretty but they're there. <a href="#a43">#</a>
            * <a name="a44"></a>http://docs.littleoutliner.com/davewiner/verbDocs.opml <a href="#a44">#</a>
      * <a name="a45"></a>Added a link to the <a href="http://this.how/littleoutliner/versions.opml">Version notes outline</a> in the Docs menu.  <a href="#a45">#</a>
         * <a name="a46"></a>I should be adding to this outline, but it's weird because nothing I add now will be public.  <a href="#a46">#</a>
         * <a name="a47"></a>I think pretty soon I'm going to have to transition this to a public release. <a href="#a47">#</a>
* <a name="a48"></a>February 25 <a href="#a48">#</a>
   * <a name="a49"></a>[[rfc]] <a href="#a49">#</a>
      * <a name="a50"></a>request for comment (andrew) <a href="#a50">#</a>
         * <a name="a51"></a>goal: a reference set of test scripts that are easily accessible to all <a href="#a51">#</a>
         * <a name="a52"></a>proposed solution: I hard-code the loading of this menu at startup in LO2 <a href="#a52">#</a>
         * <a name="a53"></a>advantages: reliable, requires nothing of the user, updating the menu is done by reloading the app <a href="#a53">#</a>
      * <a name="a54"></a>implementation <a href="#a54">#</a>
         * <a name="a55"></a>I will have two menubars myself, one place to edit stuff, and one to deploy to users of the test system. <a href="#a55">#</a>
            * <a name="a56"></a>The place to edit stuff will be my menubar.opml. <a href="#a56">#</a>
            * <a name="a57"></a>The place to deploy test scripts/examples, will be at:  <a href="#a57">#</a>
               * <a name="a58"></a>http://test.littleoutliner.com/davewiner/myOutlines/testMenubar.opml <a href="#a58">#</a>
         * <a name="a59"></a>When LO2 starts up it looks for this file, if it finds it, it is inserted the same way the user's menubar is. <a href="#a59">#</a>
            * <a name="a60"></a>Voila! :-) <a href="#a60">#</a>
      * <a name="a61"></a>how to respond <a href="#a61">#</a>
         * <a name="a62"></a>please use Signal <a href="#a62">#</a>
   * <a name="a63"></a>[[davehttp]] <a href="#a63">#</a>
      * <a name="a64"></a>when a POST is received but not handled, there appears to be no 404 error returned. have to investigate. it could also be in davetwitter. the behavior is exhibited in daveappserver. <a href="#a64">#</a>
   * <a name="a65"></a>[[radio open source]] <a href="#a65">#</a>
      * <a name="a66"></a>Andy Sylvester is doing a good job putting together the initial community site.  <a href="#a66">#</a>
         * <a name="a67"></a>We're going to redirect from a scripting.com cname.  <a href="#a67">#</a>
         * <a name="a68"></a>Eventually want to turn it over to Mary and Chris. <a href="#a68">#</a>
         * <a name="a69"></a>The spec is "recreate the community ROS had in 2003." <a href="#a69">#</a>
         * <a name="a70"></a>That's something Chris and Mary understand, and wish they had again. <a href="#a70">#</a>
         * <a name="a71"></a>I've been on their case about starting a community, but realized I should have been listening better, and just given them what they want.  <a href="#a71">#</a>
   * <a name="a72"></a>[[verbs]] <a href="#a72">#</a>
      * <a name="a73"></a>file.writeWholeFile <a href="#a73">#</a>
         * <a name="a74"></a>Needed a rewrite too.  <a href="#a74">#</a>
            * <a name="a75"></a>If the file doesn't exist, we create a private file. <a href="#a75">#</a>
            * <a name="a76"></a>If it does exist, we replace the first one we find. <a href="#a76">#</a>
            * <a name="a77"></a>We start looking for the public file, then the private one.  <a href="#a77">#</a>
         * <a name="a78"></a>Tested and works <a href="#a78">#</a>
      * <a name="a79"></a>Now the first four commands in the Files sub-menu work. <a href="#a79">#</a>
      * <a name="a80"></a>Whether or not a file is private or public is transparent to these verbs. They work on whatever we have.  <a href="#a80">#</a>
   * <a name="a81"></a>[[sysop]] <a href="#a81">#</a>
      * <a name="a82"></a>Added nightly backup script to copy my status outline, the menubar and verb docs to the devteam folder (which itself is backed up). <a href="#a82">#</a>
* <a name="a83"></a>February 24 <a href="#a83">#</a>
   * <a name="a84"></a>[[verbs]] <a href="#a84">#</a>
      * <a name="a85"></a>file.readWholeFile <a href="#a85">#</a>
         * <a name="a86"></a>New implementation of file.readWholeFile. <a href="#a86">#</a>
            * <a name="a87"></a>readWholeFile: function (path) {  <a href="#a87">#</a>
               * <a name="a88"></a>return new Promise (function (resolve, reject) { <a href="#a88">#</a>
                  * <a name="a89"></a>servercall ("readwholefile", {relpath: path}, true, function (err, data) { <a href="#a89">#</a>
                     * <a name="a90"></a>if (err) { <a href="#a90">#</a>
                        * <a name="a91"></a>reject (err); <a href="#a91">#</a>
                        * <a name="a92"></a>} <a href="#a92">#</a>
                     * <a name="a93"></a>else { <a href="#a93">#</a>
                        * <a name="a94"></a>resolve (data.filetext);  <a href="#a94">#</a>
                        * <a name="a95"></a>} <a href="#a95">#</a>
                     * <a name="a96"></a>}); <a href="#a96">#</a>
                  * <a name="a97"></a>}); <a href="#a97">#</a>
               * <a name="a98"></a>}, <a href="#a98">#</a>
         * <a name="a99"></a>Corresponding [[daveappserver]] call <a href="#a99">#</a>
            * <a name="a100"></a>//readwholefile <a href="#a100">#</a>
               * <a name="a101"></a>first it tries to read the public version, if it works, it returns that, then it returns the private version.  <a href="#a101">#</a>
               * <a name="a102"></a>it's an error if neither exist. <a href="#a102">#</a>
         * <a name="a103"></a>Note there's already a call //getfile that differs in that it takes a boolean param saying if it's public or private.  <a href="#a103">#</a>
            * <a name="a104"></a>Not sure if LO2 needs this. If not, it can be deleted, since this is new stuff, no breakage possible. <a href="#a104">#</a>
* <a name="a105"></a>February 23 <a href="#a105">#</a>
   * <a name="a106"></a>[[LO2]] <a href="#a106">#</a>
      * <a name="a107"></a>Silver lining to not having integrated this with the main littleoutliner.com site.  <a href="#a107">#</a>
         * <a name="a108"></a>1. I can change the default folder structure. the myOutlines folder was a mistake.  <a href="#a108">#</a>
         * <a name="a109"></a>2. It can have a new name that does not contain the word little, and might also give it a new mission beyond being an outliner. I'm thinking this product will ultimately do three things well: <a href="#a109">#</a>
            * <a name="a110"></a>Manage a cloud-based file system with scripting.  <a href="#a110">#</a>
            * <a name="a111"></a>Connect to Twitter in the way a prodigious influencer would want to. <a href="#a111">#</a>
            * <a name="a112"></a>Connect file system and twitter.  <a href="#a112">#</a>
         * <a name="a113"></a>3. It will do one other thing in a rudimentary and simple way: <a href="#a113">#</a>
            * <a name="a114"></a>Publish stuff to the web. That's what public folders are all about.  <a href="#a114">#</a>
   * <a name="a115"></a>[[verbs]] <a href="#a115">#</a>
      * <a name="a116"></a>file.delete <a href="#a116">#</a>
         * <a name="a117"></a>Implemented, including glue script, example in my menubar.opml file and verbdocs.  <a href="#a117">#</a>
         * <a name="a118"></a>This is starting to get to be a routine, which is what I want. Get an idea for a verb, implement in a variety of places.  <a href="#a118">#</a>
         * <a name="a119"></a>Also note that the server side is going into daveappserver, which is very nicely developing as the 2021 version of nodestorage. only stuff every app needs, and the filesystem stuff is actually covered by a preference. if you don't want your appserver doing stuff with files, it's easily disabled.  <a href="#a119">#</a>
      * <a name="a120"></a>Wrote docs for file.getFileHierarchy in the verb docs outline. <a href="#a120">#</a>
         * <a name="a121"></a>http://instantoutliner.com/np <a href="#a121">#</a>
      * <a name="a122"></a>To do -- a docserver-like rendering of the verb docs. It should be linked into the Docs menu in LO2.  <a href="#a122">#</a>
   * <a name="a123"></a>[[todo]] <a href="#a123">#</a>
      * <a name="a124"></a>codename for product, use that for the domain name, which is not necessarily littleoutliners.com. <a href="#a124">#</a>
      * <a name="a125"></a>pagepark plugin to make beautiful renderings of public files stored in users' public folders <a href="#a125">#</a>
* <a name="a126"></a>February 22 <a href="#a126">#</a>
   * <a name="a127"></a>[[LO2]] -- outline file hierarchy <a href="#a127">#</a>
      * <a name="a128"></a>New command in the Tools menu: Outline file hierarchy <a href="#a128">#</a>
         * <a name="a129"></a>To use, open a scratch outline, or clear a little space in the outline you're working on by pressing Return a few times. Then choose the command from the Tools menu. After a short delay, an outline appears, with two branches, Private files and Public files. You can see all the files LO2 is storing for you. You can also see when they were created by looking at the attributes display at the bottom of the tab. That's pretty much all you can do at this point. But it seems to work. Nice to finally have a way to see wtf is going on on the server .;-) <a href="#a129">#</a>
      * <a name="a130"></a>Expand to see the result on my system. <a href="#a130">#</a>
         * <a name="a131"></a>File hierarchy <a href="#a131">#</a>
            * <a name="a132"></a>Private files <a href="#a132">#</a>
               * <a name="a133"></a>myOutlines <a href="#a133">#</a>
                  * <a name="a134"></a>hello2.opml <a href="#a134">#</a>
                  * <a name="a135"></a>menubar.opml <a href="#a135">#</a>
                  * <a name="a136"></a>myFirstOutline.opml <a href="#a136">#</a>
                  * <a name="a137"></a>verb docs.opml <a href="#a137">#</a>
                  * <a name="a138"></a>verbDocs.opml <a href="#a138">#</a>
               * <a name="a139"></a>outlinerPrefs.json <a href="#a139">#</a>
               * <a name="a140"></a>outlinerPrefsBackup.json <a href="#a140">#</a>
            * <a name="a141"></a>Public files <a href="#a141">#</a>
               * <a name="a142"></a>alert.js <a href="#a142">#</a>
               * <a name="a143"></a>code <a href="#a143">#</a>
                  * <a name="a144"></a>alert.js <a href="#a144">#</a>
               * <a name="a145"></a>myOutlines <a href="#a145">#</a>
                  * <a name="a146"></a>hello2.opml <a href="#a146">#</a>
                  * <a name="a147"></a>menubar.opml <a href="#a147">#</a>
                  * <a name="a148"></a>myFirstOutline.opml <a href="#a148">#</a>
                  * <a name="a149"></a>myPublicOutline.opml <a href="#a149">#</a>
                  * <a name="a150"></a>undefined <a href="#a150">#</a>
                  * <a name="a151"></a>verbDocs.opml <a href="#a151">#</a>
               * <a name="a152"></a>myStatus <a href="#a152">#</a>
                  * <a name="a153"></a>2021 <a href="#a153">#</a>
                     * <a name="a154"></a>02 <a href="#a154">#</a>
                        * <a name="a155"></a>03.opml <a href="#a155">#</a>
                        * <a name="a156"></a>04.opml <a href="#a156">#</a>
                        * <a name="a157"></a>05.opml <a href="#a157">#</a>
                        * <a name="a158"></a>06.opml <a href="#a158">#</a>
                        * <a name="a159"></a>07.opml <a href="#a159">#</a>
                        * <a name="a160"></a>08.opml <a href="#a160">#</a>
                        * <a name="a161"></a>09.opml <a href="#a161">#</a>
                        * <a name="a162"></a>10.opml <a href="#a162">#</a>
                        * <a name="a163"></a>11.opml <a href="#a163">#</a>
                        * <a name="a164"></a>12.opml <a href="#a164">#</a>
                        * <a name="a165"></a>13.opml <a href="#a165">#</a>
                        * <a name="a166"></a>18.opml <a href="#a166">#</a>
                        * <a name="a167"></a>19.opml <a href="#a167">#</a>
                        * <a name="a168"></a>20.opml <a href="#a168">#</a>
                        * <a name="a169"></a>21.opml <a href="#a169">#</a>
                        * <a name="a170"></a>22.opml <a href="#a170">#</a>
               * <a name="a171"></a>testing <a href="#a171">#</a>
                  * <a name="a172"></a>test.txt <a href="#a172">#</a>
   * <a name="a173"></a>[[code management]] <a href="#a173">#</a>
      * <a name="a174"></a>these are notes just for me. you can ignore. <a href="#a174">#</a>
      * <a name="a175"></a>the problem <a href="#a175">#</a>
         * <a name="a176"></a>i wanted to get to the bottom of why the rewrite of everyMinute wasn't making it into littleoutliner. <a href="#a176">#</a>
         * <a name="a177"></a>turns out its because the utils.js is part of a set of files that i merge into one code.js, to cut down on the number of file inclusions. but it has to be rebuilt for changes in utils.js and other files show up to the client apps. <a href="#a177">#</a>
         * <a name="a178"></a>i can never remember how to rebuild this. the code is somewhere in nodeEditor.root. i just spent 1/2 hour looking for it. last time it was rebuilt was on 8/2/2020 (going by the file mod dates on S3).  <a href="#a178">#</a>
         * <a name="a179"></a>the purpose of this is to mark this process for once, and leave a trail that's possible to follow. I will figure this out, and will add it to this tag.  <a href="#a179">#</a>
      * <a name="a180"></a><s>what i'm going to do in LO2</s> <a href="#a180">#</a>
         * <a name="a181"></a>i'm going to include the files that are part of code. js and styles.css, so I get the latest code changes, and we trade off for some speed in loading. i have to find the solution here, but i'm not finding it today. ;-) <a href="#a181">#</a>
      * <a name="a182"></a>change in plan -- I found it <a href="#a182">#</a>
         * <a name="a183"></a>It isn't built by scripts, I have a project for it. Much simpler.  <a href="#a183">#</a>
            * <a name="a184"></a>i left a clue at the top of the nodeEditor menu in my dev system <a href="#a184">#</a>
            * <a name="a185"></a>there's a command called Includes. It opens the project, which is called basicIncludes <a href="#a185">#</a>
            * <a name="a186"></a>to build it you just press the Save button.  <a href="#a186">#</a>
            * <a name="a187"></a>so simple, but i lost the thread! oy oy oy <a href="#a187">#</a>
         * <a name="a188"></a>How I'm going to leave trailers behind <a href="#a188">#</a>
            * <a name="a189"></a>adding a readme in all the places i stared at pointing to this project <a href="#a189">#</a>
         * <a name="a190"></a>Also there was a notes.opml file in the folder on S3, I didn't see it. oy. <a href="#a190">#</a>
* <a name="a191"></a>February 21 <a href="#a191">#</a>
   * <a name="a192"></a>[[verbs]] <a href="#a192">#</a>
      * <a name="a193"></a>I checked the verbs.js file on the server, but the code appears to be correct. <a href="#a193">#</a>
         * <a name="a194"></a>http://scripting.com/code/concord/concordscript/verbs.js <a href="#a194">#</a>
      * <a name="a195"></a>Here's the source.  <a href="#a195">#</a>
         * <a name="a196"></a>makeFilePublic: function (path) {  <a href="#a196">#</a>
            * <a name="a197"></a>return new Promise (function (resolve, reject) { <a href="#a197">#</a>
               * <a name="a198"></a>servercall ("makefilepublic", {relpath: path}, true, function (err, data) { <a href="#a198">#</a>
                  * <a name="a199"></a>if (err) { <a href="#a199">#</a>
                     * <a name="a200"></a>reject (err); <a href="#a200">#</a>
                     * <a name="a201"></a>} <a href="#a201">#</a>
                  * <a name="a202"></a>else { <a href="#a202">#</a>
                     * <a name="a203"></a>resolve (data.url); <a href="#a203">#</a>
                     * <a name="a204"></a>} <a href="#a204">#</a>
                  * <a name="a205"></a>}); <a href="#a205">#</a>
               * <a name="a206"></a>}); <a href="#a206">#</a>
            * <a name="a207"></a>}, <a href="#a207">#</a>
   * <a name="a208"></a>[[folderToJson]] <a href="#a208">#</a>
      * <a name="a209"></a>A new package. To be used in generating OPML for the user's file, so they can be viewed, and perhaps later, reorganize. I found I needed a good visualization of files, if I'm expected to manage them.  <a href="#a209">#</a>
         * <a name="a210"></a>https://github.com/scripting/folderToJson <a href="#a210">#</a>
         * <a name="a211"></a>https://www.npmjs.com/package/foldertojson <a href="#a211">#</a>
* <a name="a212"></a>February 20 <a href="#a212">#</a>
   * <a name="a213"></a>tomorrow todo <a href="#a213">#</a>
      * <a name="a214"></a>Outline my files script <a href="#a214">#</a>
         * <a name="a215"></a>make a call to the server to get an opml representation of the user's file system <a href="#a215">#</a>
         * <a name="a216"></a>i need a way to see clearly the files i have <a href="#a216">#</a>
         * <a name="a217"></a>i think i want to get rid of the myOutlines folder as a default, but it's kind of burned in there.  <a href="#a217">#</a>
         * <a name="a218"></a>have to think of a way to do a corner turn.  <a href="#a218">#</a>
   * <a name="a219"></a>[[verbs]] <a href="#a219">#</a>
      * <a name="a220"></a>error reporting mechanism working, sometimes <a href="#a220">#</a>
         * <a name="a221"></a>I have three scripts in the shared menubar.opml in the Errors sub-menu, one each for syntax, runtime error, and a call into the debugger. they all work! that's good. <a href="#a221">#</a>
            * <a name="a222"></a>http://instantoutliner.com/nk <a href="#a222">#</a>
         * <a name="a223"></a>but when you try to make a non-existent file public, through file.makeFilePublic, there is no error reported even though the server is reporting an error, and I'm passing it through reject per the spec. <a href="#a223">#</a>
      * <a name="a224"></a>getting the value from runScriptText <a href="#a224">#</a>
         * <a name="a225"></a>Look at runCursorScript in code.js for test.littleoutliner.com <a href="#a225">#</a>
         * <a name="a226"></a>I naively hoped that the second param to the callback from runScriptText would be the value generated by script, but no such luck.  <a href="#a226">#</a>
         * <a name="a227"></a>How do I get the value returned from runScriptText? <a href="#a227">#</a>
      * <a name="a228"></a>very basic verb question <a href="#a228">#</a>
         * <a name="a229"></a>I have to implement a new verb from scratch -- file.makeFilePublic <a href="#a229">#</a>
            * <a name="a230"></a>the implementation that was there is wrong, takes the wrong param, does the wrong thing. <a href="#a230">#</a>
            * <a name="a231"></a>that's why it's "from scratch". <a href="#a231">#</a>
         * <a name="a232"></a>here's the body of the verb implementation <a href="#a232">#</a>
            * <a name="a233"></a>makeFilePublic: function (path) {  <a href="#a233">#</a>
               * <a name="a234"></a>return new Promise (function (resolve) { <a href="#a234">#</a>
                  * <a name="a235"></a>serverCall ("makefilepublic", {path}, true, function (err, data) { <a href="#a235">#</a>
                     * <a name="a236"></a>if (err) { <a href="#a236">#</a>
                        * <a name="a237"></a>console.log ("err.message == " + err.message); <a href="#a237">#</a>
                        * <a name="a238"></a>} <a href="#a238">#</a>
                     * <a name="a239"></a>else { <a href="#a239">#</a>
                        * <a name="a240"></a>resolve (data.url); <a href="#a240">#</a>
                        * <a name="a241"></a>} <a href="#a241">#</a>
                     * <a name="a242"></a>}); <a href="#a242">#</a>
                  * <a name="a243"></a>}); <a href="#a243">#</a>
               * <a name="a244"></a>}, <a href="#a244">#</a>
         * <a name="a245"></a>it doesn't do anything, doesn't call the server, put anything out to console. i set a breakpoint in serverCall, it never gets there.  <a href="#a245">#</a>
      * <a name="a246"></a>verbdocs public <a href="#a246">#</a>
         * <a name="a247"></a>I made the verbdocs file public. <a href="#a247">#</a>
            * <a name="a248"></a>http://instantoutliner.com/np <a href="#a248">#</a>
         * <a name="a249"></a>For me verb docs are like a todo list and a bug database. <a href="#a249">#</a>
            * <a name="a250"></a>I found I wished we had made the verb docs a programmer project from the beginning at UserLand. Instead we hired a docs writer to write the manual, and he invented terminology that was buggy and inconsistent with the product. I don't blame him, I like writing these docs anyway. <a href="#a250">#</a>
      * <a name="a251"></a>file.writeWholeFile <a href="#a251">#</a>
         * <a name="a252"></a>Changed to save a private file instead of a public file. The rationale: since when you use the outliner interactively, when you create a file it is private and you must make it public, I want the scripting interface to work the same way.  <a href="#a252">#</a>
* <a name="a253"></a>February 19 <a href="#a253">#</a>
   * <a name="a254"></a>[[LO2]] <a href="#a254">#</a>
      * <a name="a255"></a>apparent bug -- the Run Selection command does not paste the value in the outliner <a href="#a255">#</a>
         * <a name="a256"></a>the cause seems to be that runScriptText returns undefined. <a href="#a256">#</a>
         * <a name="a257"></a>to reproduce, enter 12 + 1 in a headline and choose Run Selection from the File menu. <a href="#a257">#</a>
            * <a name="a258"></a>12 + 1 <a href="#a258">#</a>
               * <a name="a259"></a>&nbsp; <a href="#a259">#</a>
         * <a name="a260"></a>the script is running, as evidenced by this one-liner <a href="#a260">#</a>
            * <a name="a261"></a>alert (12 + 1) <a href="#a261">#</a>
               * <a name="a262"></a>&nbsp; <a href="#a262">#</a>
   * <a name="a263"></a>[[concord]] <a href="#a263">#</a>
      * <a name="a264"></a>apparent bug -- in the keydown handler, search for this line -- <a href="#a264">#</a>
         * <a name="a265"></a>var keyCaptured = event.concord.flKeyCaptured; <a href="#a265">#</a>
      * <a name="a266"></a>very nice! <a href="#a266">#</a>
         * <a name="a267"></a>you'd think that if I set event.concord.flKeyCaptured true before returning that Concord would ignore the keystroke, but no such luck. <a href="#a267">#</a>
         * <a name="a268"></a>then you have to wonder, wtf is this feature there for.  <a href="#a268">#</a>
         * <a name="a269"></a>I searched the codebase for concord.flKeyCaptured, the only reference I found to it was in LO2 when the user presses meta-meta-/ -- which I thought was help, but doesn't seem to work either. oy. <a href="#a269">#</a>
         * <a name="a270"></a>not sure what happened here, but that's the exact mechanism I want to override Concord's implementation of cmd-/. <a href="#a270">#</a>
      * <a name="a271"></a>choices <a href="#a271">#</a>
         * <a name="a272"></a>keyCaptured only works for cmd-/ and is ignored for all other key commands as it currently is <a href="#a272">#</a>
         * <a name="a273"></a>keyCaptured really does what it says, and if set true, any keystroke is ignored <a href="#a273">#</a>
      * <a name="a274"></a>tradeoffs <a href="#a274">#</a>
         * <a name="a275"></a>the first is unlikely to break anything <a href="#a275">#</a>
         * <a name="a276"></a>the second is more likely to break something, but it is correct, or so it appears <a href="#a276">#</a>
      * <a name="a277"></a>what i did <a href="#a277">#</a>
         * <a name="a278"></a>i made the first, more conservative change. tested, it works, but uncovered another problem, which is documented under LO2.  <a href="#a278">#</a>
* <a name="a279"></a>February 18 <a href="#a279">#</a>
   * <a name="a280"></a>[[test.littleoutliner.com]] <a href="#a280">#</a>
      * <a name="a281"></a>It was getting too confusing using LO2 from my desktop machine as server, so I'm moving all my work to the server.  <a href="#a281">#</a>
      * <a name="a282"></a>This means I can share menubar.opml as a "live" file.  <a href="#a282">#</a>
         * <a name="a283"></a>http://instantoutliner.com/nk <a href="#a283">#</a>
   * <a name="a284"></a>[[menubar.opml]] <a href="#a284">#</a>
      * <a name="a285"></a>Here's the menubar I'm using to test, for now. <a href="#a285">#</a>
         * <a name="a286"></a>http://instantoutliner.com/nk <a href="#a286">#</a>
      * <a name="a287"></a>I'm reviewing the scripts in the aggregated menubar.opml. <a href="#a287">#</a>
         * <a name="a288"></a>I created the file by joining the three different files I had.  <a href="#a288">#</a>
         * <a name="a289"></a>Not all the scripts are intended to work at this time, this provides a beginning checklist of problems to look at. <a href="#a289">#</a>
         * <a name="a290"></a>There is a section for errors, and those can be addressed now.  <a href="#a290">#</a>
            * <a name="a291"></a>Syntax, runtime errors not being reported. <a href="#a291">#</a>
            * <a name="a292"></a>Call to the built-in debugger function used to work, but doesn't now.  <a href="#a292">#</a>
         * <a name="a293"></a>The three twitter test scripts do not work, I'm going to work here. <a href="#a293">#</a>
            * <a name="a294"></a>BTW, I think some of the things the proxy was meant to cover are already built into davetwitter, which is automatically part of the functionality of daveappserver. I plan to support direclty in daveappserver, all the verbs that the language needs. I want that in davetwitter.  <a href="#a294">#</a>
         * <a name="a295"></a>Import File Text does not work <a href="#a295">#</a>
            * <a name="a296"></a>You have to have a file called denton.opml. <a href="#a296">#</a>
            * <a name="a297"></a>And it doesn't use the new syntax.  <a href="#a297">#</a>
            * <a name="a298"></a>I will work here.  <a href="#a298">#</a>
   * <a name="a299"></a>[[LO2]] <a href="#a299">#</a>
      * <a name="a300"></a>Cmd-/ work. For example if I press Cmd-/ on the line below, it works -- I get 24  <a href="#a300">#</a>
         * <a name="a301"></a>12 + 12 <a href="#a301">#</a>
            * <a name="a302"></a>24 <a href="#a302">#</a>
      * <a name="a303"></a>But if I press Cmd-/ on this line, I don't get what I expect. <a href="#a303">#</a>
         * <a name="a304"></a>file.readWholeFile ("menubar.opml")  <a href="#a304">#</a>
            * <a name="a305"></a>[object Promise] <a href="#a305">#</a>
   * <a name="a306"></a>[[process]] <a href="#a306">#</a>
      * <a name="a307"></a>Suppose a project no longer needs a file, but you don't want to remove it from its repo <a href="#a307">#</a>
         * <a name="a308"></a>Makes sense sometimes, the code was useful and might be useful again. <a href="#a308">#</a>
         * <a name="a309"></a>But you don't want to confuse a newcomer.  <a href="#a309">#</a>
         * <a name="a310"></a>So create a folder called old stuff and put it there. <a href="#a310">#</a>
         * <a name="a311"></a>It meets both needs. 1. It won't confuse a newbie. 2. It preserves the work. <a href="#a311">#</a>
   * <a name="a312"></a>[[LO2]] <a href="#a312">#</a>
      * <a name="a313"></a>Docs -- If you want to create a sub-menu in menubar.opml, add an attribute called flSubMenu and set it true. The subs will be commands, and their subs will be the script that runs when the command is selected.  <a href="#a313">#</a>
      * <a name="a314"></a>We need a codename for the scripting project. Probably will be the name of a place, as with all previous releases.  <a href="#a314">#</a>
* <a name="a315"></a>February 14 <a href="#a315">#</a>
   * <a name="a316"></a>[[everyMinute]] <a href="#a316">#</a>
      * <a name="a317"></a>Did a careful release, now including it in utils.js and daveutils so all my software runs code at the top of the minute without drift. <a href="#a317">#</a>
         * <a name="a318"></a>https://github.com/scripting/everyMinute <a href="#a318">#</a>
* <a name="a319"></a>February 13 <a href="#a319">#</a>
   * <a name="a320"></a>[[everyMinute]] <a href="#a320">#</a>
      * <a name="a321"></a>My brute force method worked, and it's actually quite elegant. I'm going to install it in daveutils, so it'll be available to all my apps. There already is a routine there called runEveryMinute, and this will just replace it.  <a href="#a321">#</a>
         * <a name="a322"></a>function newRunEveryMinute (callback) { //2/12/21 by DW <a href="#a322">#</a>
            * <a name="a323"></a>Changes  <a href="#a323">#</a>
               * <a name="a324"></a>2/12/21; 11:24:28 AM by DW <a href="#a324">#</a>
                  * <a name="a325"></a>The goal is to reduce drift in my everyMinute functions. This is how I do it.  <a href="#a325">#</a>
                     * <a name="a326"></a>Every second we check if it's time for us to run the everyMinute script, if so we do.  <a href="#a326">#</a>
                  * <a name="a327"></a>It still isn't accurate, but it does eliminate drift.  <a href="#a327">#</a>
                  * <a name="a328"></a>It always is within a second or at most two from the top of the minute, and then it gets back on track with the next call.  <a href="#a328">#</a>
                  * <a name="a329"></a>Drift is gone. Accuracy is still mediocre.  <a href="#a329">#</a>
            * <a name="a330"></a>var whenLastEveryMinute = new Date (0); <a href="#a330">#</a>
            * <a name="a331"></a>function everySecond () { <a href="#a331">#</a>
               * <a name="a332"></a>var now = new Date (); <a href="#a332">#</a>
               * <a name="a333"></a>if (now.getSeconds () == 0) { <a href="#a333">#</a>
                  * <a name="a334"></a>whenLastEveryMinute = now; <a href="#a334">#</a>
                  * <a name="a335"></a>callback (); <a href="#a335">#</a>
                  * <a name="a336"></a>} <a href="#a336">#</a>
               * <a name="a337"></a>else { <a href="#a337">#</a>
                  * <a name="a338"></a>if (secondsSince (whenLastEveryMinute) > 60) { <a href="#a338">#</a>
                     * <a name="a339"></a>whenLastEveryMinute = now; <a href="#a339">#</a>
                     * <a name="a340"></a>callback (); <a href="#a340">#</a>
                     * <a name="a341"></a>} <a href="#a341">#</a>
                  * <a name="a342"></a>} <a href="#a342">#</a>
               * <a name="a343"></a>} <a href="#a343">#</a>
            * <a name="a344"></a>setInterval (everySecond, 1000); <a href="#a344">#</a>
            * <a name="a345"></a>} <a href="#a345">#</a>
   * <a name="a346"></a>[[copyright]] <a href="#a346">#</a>
      * <a name="a347"></a>Fixed. It needed to be in the OPML head section, per Andrew's suggestion.  <a href="#a347">#</a>
* <a name="a348"></a>February 12 <a href="#a348">#</a>
   * <a name="a349"></a>[[everyMinute]] <a href="#a349">#</a>
      * <a name="a350"></a>I tried to fix everyMinute by detecting drift and then restarting the everyMinute process, but no luck. Maybe the thing to do is to do a scheduler for JS that works in the browser. With accuracy down to a second. So you run the scheduler every second, and it fires up timed tasks as-needed. I bet it could be done reasonably efficiently just by brute force. <a href="#a350">#</a>
         * <a name="a351"></a>For now I do something more modest. If it works, I'll document the change on scripting.com. <a href="#a351">#</a>
   * <a name="a352"></a>[[davetwitter]] <a href="#a352">#</a>
      * <a name="a353"></a>I added a new call yesterday, copied from nodeStorage, /getmymentions. <a href="#a353">#</a>
         * <a name="a354"></a>I'm going to tune it up, and plan out adding the rest of the twitter entry points from nodeStorage.  <a href="#a354">#</a>
   * <a name="a355"></a>[[scriptingNightlyEmail]] <a href="#a355">#</a>
      * <a name="a356"></a>The copyright macro is broken. The emails went out last night with [%copyright%] at the top of the footer.  <a href="#a356">#</a>
         * <a name="a357"></a>I swear last night's email came to me with the macro unresolved, but now I just re-checked, and everything is fine. Oy. <a href="#a357">#</a>
* <a name="a358"></a>February 11 <a href="#a358">#</a>
   * <a name="a359"></a>[[LO2]] <a href="#a359">#</a>
      * <a name="a360"></a>it wasn't calling everyMinute properly -- fixed <a href="#a360">#</a>
      * <a name="a361"></a>/getmymentions <a href="#a361">#</a>
         * <a name="a362"></a>there's another call that LO2 makes that is part of nodeStorage <a href="#a362">#</a>
         * <a name="a363"></a>there's a pref that if set true, LO2 will, every three minutes, look for replies to tweets in your outline <a href="#a363">#</a>
            * <a name="a364"></a>appPrefs.flCheckForReplies <a href="#a364">#</a>
         * <a name="a365"></a>here's the tweet i'll use to test this feature <a href="#a365">#</a>
            * <a name="a366"></a>I'm testing some software. I'm going to be responding to this tweet with test tweets. <a href="#a366">#</a>
               * <a name="a367"></a>@jy: syntax error <a href="#a367">#</a>
* <a name="a368"></a>February 10 <a href="#a368">#</a>
   * <a name="a369"></a>[[scripting]] <a href="#a369">#</a>
      * <a name="a370"></a><a href="https://github.com/scripting/Scripting-News/issues/199#issuecomment-776823796">Released</a> the prototype <a href="https://github.com/scripting/jsPreprocessor/blob/main/compile.js">JavaScript pre-processor</a>.  <a href="#a370">#</a>
* <a name="a371"></a>February 9 <a href="#a371">#</a>
   * <a name="a372"></a>[[scripting]] <a href="#a372">#</a>
      * <a name="a373"></a>using  the <a href="https://github.com/acornjs/acorn">acorn parser</a> for testing/playing.  <a href="#a373">#</a>
         * <a name="a374"></a>the functions are stored outside the user's code <a href="#a374">#</a>
         * <a name="a375"></a>their names are stored in an array <a href="#a375">#</a>
         * <a name="a376"></a>when we're processing the user's code, we look for calls to these functions <a href="#a376">#</a>
         * <a name="a377"></a>and add the word await in front of the call <a href="#a377">#</a>
         * <a name="a378"></a>all other function calls are left alone <a href="#a378">#</a>
         * <a name="a379"></a>the functions in the array must be declared as async <a href="#a379">#</a>
      * <a name="a380"></a>example 1 <a href="#a380">#</a>
         * <a name="a381"></a>joan () <a href="#a381">#</a>
            * <a name="a382"></a>CallExpression <a href="#a382">#</a>
               * <a name="a383"></a>callee <a href="#a383">#</a>
                  * <a name="a384"></a>Identifier <a href="#a384">#</a>
                     * <a name="a385"></a>name: "joan" <a href="#a385">#</a>
         * <a name="a386"></a>suppose joan is called async, then you'd have to: <a href="#a386">#</a>
            * <a name="a387"></a>wrap the CallExpression in AwaitExpression <a href="#a387">#</a>
* <a name="a388"></a>February 8 <a href="#a388">#</a>
   * <a name="a389"></a>[[verbs]] -- just started <a href="#a389">#</a>
      * <a name="a390"></a>What I learned <a href="#a390">#</a>
         * <a name="a391"></a>Right now for this to work, people who create asynchronous functions in this language need to label them as async and call them with await. There are some circumstances where we can generate the glue thus hiding the distinction, but the rules are complex. To really solve the problem will require generating code using a compiler. String processing, which is what we do now is not enough.  <a href="#a391">#</a>
      * <a name="a392"></a>Back to verbs.  <a href="#a392">#</a>
         * <a name="a393"></a>I want to write the tagserver ping script in JSS.  <a href="#a393">#</a>
            * <a name="a394"></a>get today's opml <a href="#a394">#</a>
            * <a name="a395"></a>upload the file, get the url <a href="#a395">#</a>
            * <a name="a396"></a>ping tagserver <a href="#a396">#</a>
   * <a name="a397"></a>[[LO2]] -- bugs <a href="#a397">#</a>
      * <a name="a398"></a>If you press cmd-\ to toggle comment, it's also picked up in the JS debugger and it halts the script.  <a href="#a398">#</a>
         * <a name="a399"></a>Obviously there's a key conflict.  <a href="#a399">#</a>
         * <a name="a400"></a>We have to use cmd-\, so we should find a way to disable it in the browser. <a href="#a400">#</a>
      * <a name="a401"></a> When editing a script the spellchecker in the browser marks every variable name as a mis-spelling.  <a href="#a401">#</a>
* <a name="a402"></a>February 7 <a href="#a402">#</a>
   * <a name="a403"></a>[[verbs]] <a href="#a403">#</a>
      * <a name="a404"></a>the version of verbs.js in littleoutliner appears to be an old pre-promises one <a href="#a404">#</a>
         * <a name="a405"></a>i just downloaded the code from the verbs repo, and installed it in LO2 <a href="#a405">#</a>
         * <a name="a406"></a>so now i'm running the proper version <a href="#a406">#</a>
      * <a name="a407"></a>will test some verbs now, let's see what we have <a href="#a407">#</a>
         * <a name="a408"></a>i'm hopefully ready to work on it now. <a href="#a408">#</a>
      * <a name="a409"></a>testing one-liners <a href="#a409">#</a>
         * <a name="a410"></a>file.writeWholeFile <a href="#a410">#</a>
            * <a name="a411"></a>file.writeWholeFile ("testing/test.txt", "oh the buzzing") <a href="#a411">#</a>
               * <a name="a412"></a>[object Promise] <a href="#a412">#</a>
            * <a name="a413"></a>it worked, there is a file in the public testing folder named test.text, but the returned value of [object Promise] is not good. I want whatever would have been returned to the callback <a href="#a413">#</a>
               * <a name="a414"></a>that means an error dialog if there was an error, or the returned struct <a href="#a414">#</a>
               * <a name="a415"></a>the next step would be to return the url not the struct, because this is scripting <a href="#a415">#</a>
         * <a name="a416"></a>file.writeWholeFile <a href="#a416">#</a>
            * <a name="a417"></a>file.writeWholeFile ("testing/test.txt", string.filledString ("oh the buzzing\n", 50)) <a href="#a417">#</a>
               * <a name="a418"></a>[object Promise] <a href="#a418">#</a>
            * <a name="a419"></a>this worked too <a href="#a419">#</a>
         * <a name="a420"></a>file.readWholeFile <a href="#a420">#</a>
            * <a name="a421"></a>file.readWholeFile ("testing/test.txt") <a href="#a421">#</a>
               * <a name="a422"></a>[object Promise] <a href="#a422">#</a>
            * <a name="a423"></a>this did not work -- there's no way to access the result from the oneliner, does it work when it's in a script? <a href="#a423">#</a>
      * <a name="a424"></a>testing menu scripts <a href="#a424">#</a>
         * <a name="a425"></a>&nbsp; <a href="#a425">#</a>
      * <a name="a426"></a>ideas <a href="#a426">#</a>
         * <a name="a427"></a>op verbs <a href="#a427">#</a>
            * <a name="a428"></a>different from the op verbs in Frontier <a href="#a428">#</a>
            * <a name="a429"></a>you can navigate through the outline structure without moving the cursor <a href="#a429">#</a>
            * <a name="a430"></a>examples <a href="#a430">#</a>
               * <a name="a431"></a>adr = op.firstsummit () adr is a pointer to the first summit in the outline structure <a href="#a431">#</a>
               * <a name="a432"></a>adr = adr.go (right, 1) returns a pointer to the first child of the headline that adr points to <a href="#a432">#</a>
               * <a name="a433"></a>adr = adr.insert ("hello", down) creates a new sibling down from adr and returns a pointer to it <a href="#a433">#</a>
            * <a name="a434"></a>the outline structure we're referring to is the one in the active tab <a href="#a434">#</a>
            * <a name="a435"></a>btw, "op" is pronounced as oh-pee not op. it means outline processor. <a href="#a435">#</a>
         * <a name="a436"></a>file verbs <a href="#a436">#</a>
            * <a name="a437"></a>read from and save to your storage on the server <a href="#a437">#</a>
               * <a name="a438"></a>filetext = file.readwholefile (path) <a href="#a438">#</a>
               * <a name="a439"></a>file.writewholefile (path, filetext) <a href="#a439">#</a>
         * <a name="a440"></a>http verbs <a href="#a440">#</a>
            * <a name="a441"></a>allow you to send a message over http <a href="#a441">#</a>
               * <a name="a442"></a>http.client (method, path, params, flauthenticated, body) <a href="#a442">#</a>
* <a name="a443"></a>February 5 <a href="#a443">#</a>
   * <a name="a444"></a>[[lo2]] -- an idea -- electron version of LO2 <a href="#a444">#</a>
      * <a name="a445"></a>I've been using LO2 for my note taking the last few days. it's good, but I wish there was an icon in the dock that would bring it up. maybe an electron app that's nothing more than LO2, no local file storage, would be useful.  <a href="#a445">#</a>
   * <a name="a446"></a>[[tagserver]] -- outline caching was a problem <a href="#a446">#</a>
      * <a name="a447"></a>stopped doing it <a href="#a447">#</a>
         * <a name="a448"></a>i added this when the outline I was sending was so large that it would make cursor movement slow. <a href="#a448">#</a>
         * <a name="a449"></a>now i've got bite-size outlines coming out of LO2, i'm going to just turn the cache off.  <a href="#a449">#</a>
         * <a name="a450"></a>added a flOpmlCacheEnabled boolean to disable the caching  <a href="#a450">#</a>
   * <a name="a451"></a>[[tagserver]] -- fix websockets connection <a href="#a451">#</a>
      * <a name="a452"></a>The theory was incorrect. The "reload" notification happens if you force it. And the list reloads.  <a href="#a452">#</a>
         * <a name="a453"></a>Theory: it broke in the transition to the new config.json behavior and format implemented recently. <a href="#a453">#</a>
         * <a name="a454"></a>The setup <a href="#a454">#</a>
            * <a name="a455"></a>Run the server on localhost in the Node debugger.  <a href="#a455">#</a>
            * <a name="a456"></a>Set breakpoints to see if it gets a request for reload notices from the client. <a href="#a456">#</a>
            * <a name="a457"></a>See if the notices are being sent.  <a href="#a457">#</a>
      * <a name="a458"></a>The problem was in everySecond believe it or not. <a href="#a458">#</a>
         * <a name="a459"></a>There's an everySecond routine in practically everything I write. <a href="#a459">#</a>
         * <a name="a460"></a>In tagserver, it's hooked into daveappserver's everySecond through the options struct that initializes DAS. <a href="#a460">#</a>
         * <a name="a461"></a>But daveappserver's everySecond routine was not calling the one in the config struct.   <a href="#a461">#</a>
         * <a name="a462"></a>The stupidest possible error, nothing subtle about it. But it wasn't even slightly suspected until all the other possibilities were eliminated. <a href="#a462">#</a>
         * <a name="a463"></a>An analogy. You're trying to figure out why a baseball player has such a low batting average. But you fail to see he has only one arm.  <a href="#a463">#</a>
   * <a name="a464"></a>[[pagepark]] -- outgoing requests to localhost not routed properly <a href="#a464">#</a>
      * <a name="a465"></a>The problem <a href="#a465">#</a>
         * <a name="a466"></a>I posted a <a href="https://github.com/scripting/pagePark/issues/17">braintrust query</a> yesterday about same-machine requests from apps being served by pagepark on the same machine. And it seems I have gotten the answer, now I have to try to apply it. <a href="#a466">#</a>
         * <a name="a467"></a>The advice was to add this line to the startup script: <a href="#a467">#</a>
            * <a name="a468"></a>iptables -t nat -A OUTPUT -p tcp -o lo --dport 80 -j REDIRECT --to-ports 1339 <a href="#a468">#</a>
         * <a name="a469"></a>In other words, the routing from 80 to 1339 was only going one way, when an outside request was coming into the server. For requests made going out of the server, the same mapping must apply.  <a href="#a469">#</a>
         * <a name="a470"></a>And it works. :-) <a href="#a470">#</a>
      * <a name="a471"></a>Done <a href="#a471">#</a>
         * <a name="a472"></a>Updated pagePark docs to reflect this.  <a href="#a472">#</a>
         * <a name="a473"></a>Updated restart.sh script on Palatka.  <a href="#a473">#</a>
         * <a name="a474"></a>pagepark.io caching problem, restarted pagepark server on miami and the cache was cleared <a href="#a474">#</a>
* <a name="a475"></a>February 4 <a href="#a475">#</a>
   * <a name="a476"></a>[[tagserver]] <a href="#a476">#</a>
      * <a name="a477"></a>Where to resume tomorrow <a href="#a477">#</a>
         * <a name="a478"></a>The websocket connection isn't working in tagserver.  <a href="#a478">#</a>
         * <a name="a479"></a>It's almost certainly a configuration error. <a href="#a479">#</a>
         * <a name="a480"></a>Have to set up the server on local machine and watch what's goin on in the debugger.  <a href="#a480">#</a>
      * <a name="a481"></a>Fixed a crashing bug.  <a href="#a481">#</a>
         * <a name="a482"></a>Long story, but there are two versions of opmlToJs.parse, one that returns just the outline structure, and the other, opmlToJs.parseWithError that returns the Node-standard (err, data) form. We were calling the old version, but the code thought we were calling the one that returns the err struct. So when there was an error, tagserver would crash. Now it should just report the error.  <a href="#a482">#</a>
      * <a name="a483"></a>The chronological view is very slow to load now. <a href="#a483">#</a>
         * <a name="a484"></a>We probably don't need everything dating back to December 2. <a href="#a484">#</a>
         * <a name="a485"></a>However this suggests we need a good search capability in tagserver.  <a href="#a485">#</a>
   * <a name="a486"></a>[[scripting]] <a href="#a486">#</a>
      * <a name="a487"></a>Let's start a set of DNS verbs.  <a href="#a487">#</a>
         * <a name="a488"></a>It's a good simple, contained verb set. <a href="#a488">#</a>
         * <a name="a489"></a>Nothing speculative. <a href="#a489">#</a>
         * <a name="a490"></a>Should we call it  <a href="#a490">#</a>
            * <a name="a491"></a>tcp.dns <a href="#a491">#</a>
         * <a name="a492"></a>Or just  <a href="#a492">#</a>
            * <a name="a493"></a>dns <a href="#a493">#</a>
         * <a name="a494"></a>Advantage of the first, we could just clone the interface in Frontier.  <a href="#a494">#</a>
         * <a name="a495"></a>Advantage of the second, it's simpler, and consistent with Node, although the API for DNS in Node is overly rich for scripting.  <a href="#a495">#</a>
         * <a name="a496"></a>I use DNS a lot in one-line scripts, to be sure a domain maps where I think it should. For example <a href="#a496">#</a>
            * <a name="a497"></a>tcp.dns.getDottedId ("woodstockweed.org") <a href="#a497">#</a>
         * <a name="a498"></a>It might be interesting to add a next-level-up that keeps a list of domains i own <a href="#a498">#</a>
            * <a name="a499"></a>and allows me to do something like this <a href="#a499">#</a>
               * <a name="a500"></a>myDomainList.match (tcp.dns.getDottedId ("woodstockweed.org")) <a href="#a500">#</a>
            * <a name="a501"></a>if it worked the response would be <a href="#a501">#</a>
               * <a name="a502"></a>miami.scripting.com <a href="#a502">#</a>
   * <a name="a503"></a>[[LO2]] <a href="#a503">#</a>
      * <a name="a504"></a>Changed it so the outline I generate for pinging [[tagserver]] now has a top level headline with the date. <a href="#a504">#</a>
      * <a name="a505"></a>I found it claustrophobic to see no indication of context for each item. <a href="#a505">#</a>
   * <a name="a506"></a>[[pagepark]] <a href="#a506">#</a>
      * <a name="a507"></a>Fixed bug in command-line tool, pp. Now we look for config.json in the directory we were launched from not the cwd. This would cause weird problems if the directory we were in had a config.json file that specified a "port" value. Now we're reading the correct config.json file no matter where you are in the directory structure.  <a href="#a507">#</a>
* <a name="a508"></a>February 3 <a href="#a508">#</a>
   * <a name="a509"></a>[[pagepark]] <a href="#a509">#</a>
      * <a name="a510"></a>Longstanding problem. <a href="#a510">#</a>
      * <a name="a511"></a>Suppose two apps are running on the same machine where PP is the http server. <a href="#a511">#</a>
      * <a name="a512"></a>Say one app is on the domain hello.com and the other is goodbye.com. <a href="#a512">#</a>
      * <a name="a513"></a>Suppose the first makes a request of the second. <a href="#a513">#</a>
         * <a name="a514"></a>http://goodbye.com/index.html <a href="#a514">#</a>
      * <a name="a515"></a>It will get a connection refused. <a href="#a515">#</a>
      * <a name="a516"></a>Make the request from another server and it works fine.  <a href="#a516">#</a>
      * <a name="a517"></a>Have to say I haven't spent a lot of time tracking this down, but it's irritating. <a href="#a517">#</a>
      * <a name="a518"></a>I hit it today because both tagserver and test.littleoutliner.com are running on the same machine.  <a href="#a518">#</a>
      * <a name="a519"></a>I hacked it by adding the port to the URL, that works, because it doesn't get routed through PP. <a href="#a519">#</a>
   * <a name="a520"></a>Something cool is working in [[LO2]] <a href="#a520">#</a>
      * <a name="a521"></a>Notice this ping is coming from a much smaller outline, so everything is nice and fast.  <a href="#a521">#</a>
   * <a name="a522"></a>Pinging my tagged status outline in [[LO2]] <a href="#a522">#</a>
      * <a name="a523"></a>Big picture <a href="#a523">#</a>
         * <a name="a524"></a>I am building a first version of something that I expect to be able to write in JSS. It's a bootstrap step. First write it in low-level language, then factor so it can be done at a higher level. <a href="#a524">#</a>
         * <a name="a525"></a>I looked at doing it in EO first, but the scripting support there is far behind that in LO2, if you can believe it. It's a real mess. Here at least there's a beginning to some order to it.  <a href="#a525">#</a>
      * <a name="a526"></a>In the LO2 source <a href="#a526">#</a>
         * <a name="a527"></a>If you look in the source you'll see a routine named pingDavesTags. I call that from the JS console in the browser. It navigates to the current day in the outline structure, generates the OPML text for that structure   (this much works now), saves it to a public file on the server, and then pings the tag server with the URL of the file. This should all happen in less than a second.  <a href="#a527">#</a>
      * <a name="a528"></a>The user experience <a href="#a528">#</a>
         * <a name="a529"></a>Obviously calling a script at the command line is not the final UI. ;-) <a href="#a529">#</a>
         * <a name="a530"></a>Otherwise the UI is about as simple as it can be. When you want to update the tag server, just run the script. <a href="#a530">#</a>
      * <a name="a531"></a>Next steps in bootstrap <a href="#a531">#</a>
         * <a name="a532"></a>We'll need verbs to: <a href="#a532">#</a>
            * <a name="a533"></a>get the headers of the current outline <a href="#a533">#</a>
            * <a name="a534"></a>navigating to a node in the outline <a href="#a534">#</a>
            * <a name="a535"></a>getting the opml text for that node <a href="#a535">#</a>
            * <a name="a536"></a>writing a public file to the server <a href="#a536">#</a>
            * <a name="a537"></a>getting the url of the file <a href="#a537">#</a>
            * <a name="a538"></a>making an HTTP request of a server <a href="#a538">#</a>
         * <a name="a539"></a>Questions <a href="#a539">#</a>
            * <a name="a540"></a>i'm thinking about a new kind of outline navigation verbs, maintaining support for the ones ported from the ThinkTank world, ones that are more JavaScripty.  <a href="#a540">#</a>
* <a name="a541"></a>February 2 <a href="#a541">#</a>
   * <a name="a542"></a>How to make a tag-capable status center out of [[LO2]] <a href="#a542">#</a>
      * <a name="a543"></a>What happens when you ping <a href="#a543">#</a>
         * <a name="a544"></a>what's in the current outline is up to you, it is never sent to the tag server <a href="#a544">#</a>
         * <a name="a545"></a>instead, when you ping, the script grabs the most recent day (assuming a calendar structure) saves it to a public file on the server, and sends the URL of that outline to the tag server. <a href="#a545">#</a>
         * <a name="a546"></a>so you're always dealing with small one-day outlines.  <a href="#a546">#</a>
      * <a name="a547"></a>You edit in a calendar structure <a href="#a547">#</a>
         * <a name="a548"></a>Put the tags where ever you like.  <a href="#a548">#</a>
         * <a name="a549"></a>What the tagserver does with it is well-known at this point.  <a href="#a549">#</a>
      * <a name="a550"></a>What we need to do from a script to make this work <a href="#a550">#</a>
         * <a name="a551"></a>Get a section of an outline in OPML. <a href="#a551">#</a>
         * <a name="a552"></a>Be able to write a public file on the server.  <a href="#a552">#</a>
         * <a name="a553"></a>Get the url of that file. <a href="#a553">#</a>
